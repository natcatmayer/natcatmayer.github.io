[
  {
    "objectID": "portfolio.html",
    "href": "portfolio.html",
    "title": "Portfolio",
    "section": "",
    "text": "Nonlinear Regression Models and Applications in Agricultural Research\n\n\nA non-linear least squares regression was developed using the sorghum crops with high input level, and then run over all 24 combinations of block, input level and crop type.\n\n\n\nNatalie Mayer\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCoastal Alaska Arctic Cod Survey\n\n\n\n\n\n\nNatalie Mayer\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNavigating California’s Water Rights\n\n\n\n\n\n\nNatalie Mayer\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWillamette Falls Fish Passage\n\n\nDaily abundance of Coho, Jack Coho, and Steelhead fish between 2001-2010 at the Willamette Falls Fish Passage\n\n\n\nNatalie Mayer\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nText and Sentiment Analysis of Shrek Movie Script\n\n\nEach line spoken by the four main characters: Shrek, Donkey, Fiona, and Lord Farquaad, were assessed to find the top 5 words said by each; and a sentiment analysis was…\n\n\n\nNatalie Mayer\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBinary Logistic Regression Models for Predicting Palmetto Species\n\n\nTwo binary logistic regression models were developed to predict the palmetto species based on a set of morphological features and compared.\n\n\n\nNatalie Mayer\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCA Oil Spills\n\n\nChoropleth and interactive map of oil spills in California counties in 2008\n\n\n\nNatalie Mayer\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/ca_oil_spills/index.html",
    "href": "posts/ca_oil_spills/index.html",
    "title": "CA Oil Spills",
    "section": "",
    "text": "The data includes records of all 3,237 documented oil spills that occurred in California in the year 2008, both off the coast in the ocean in addition to inland. Los Angeles County experienced 512 oil spills in 2008, the most spills of all the California counties, followed by San Diego with 418 oil spills and San Mateo County with 205 oil spills. Modoc County was the only to experience zero oil spills in 2008. The mean number of oil spills by county was about 53, and the median 16.5. This discrepancy in center measurements can be explained by Los Angeles and San Diego Counties experiencing significantly more oil spills than the rest of the counties, whereas 41 of the 58 counties fall below the mean.\n\n\nCalifornia Fish and Wildlife. Updated October 24, 2023. Oil Spill Incident Tracking [ds394]. California State Geoportal. https://gis.data.ca.gov/datasets/CDFW::oil-spill-incident-tracking-ds394-1/explore?location=36.842021%2C-119.422009%2C6.74\n\n\n\n\n\nCode\nlibrary(tidyverse)\nlibrary(here)\nlibrary(broom)\nlibrary(janitor)\nlibrary(sf)\nlibrary(tmap)\nlibrary(terra)\nlibrary(tidyterra)\nlibrary(gstat)\nlibrary(stars)\nlibrary(spatstat)\n\n\n\n\n\n\n\nCode\noil_raw &lt;- read_csv(here('data', 'Oil_Spill_Incident_Tracking_[ds394].csv'))\n\noil_df &lt;- oil_raw %&gt;%\n  clean_names() %&gt;%\n  select(x, y, objectid) %&gt;%\n  drop_na()\n\nca_counties &lt;- read_sf(here('data', 'ca_counties', 'CA_Counties_TIGER2016.shp'))\n\ncounties_sf &lt;- ca_counties %&gt;%\n  clean_names() %&gt;%\n  select(name)\n\n\n\n\nCode\n# convert oil to sf w/ same CRS as counties\n\noil_sf &lt;- oil_df %&gt;%\n  st_as_sf(coords = c(\"x\", \"y\"))\n\nst_crs(oil_sf) &lt;- 3857\n\n\n\n\n\n\n\nCode\nggplot() +\n  geom_sf(data = counties_sf) +\n  geom_sf(data = oil_sf) \n\n\n\n\n\n\n\n\nFigure 1: Exploratory ggPlot\n\n\n\n\n\n\n\nCode\ntmap_mode(mode = 'view')\n\ntm_shape(counties_sf) + \n  tm_fill(\"gray\") + \n  tm_shape(oil_sf) + \n  tm_dots(col = \"red\")\n\n\n\n\n\n\n\n\nFigure 2: Exploratory Interactive Map\n\n\n\n\n\n\n\n\n\nCode\n# spatial join \n\nca_oil &lt;- st_join(counties_sf, oil_sf)\n\n\n\n\nCode\nca_oil_sf &lt;- ca_oil %&gt;%\n  group_by(name) %&gt;%\n  summarize(n_records = sum(!is.na(objectid)))\n\nggplot() + \n  geom_sf(data = ca_oil_sf, \n          aes(fill = n_records), \n          color = \"black\", \n          size = 1) + \n  scale_fill_gradientn(colors = c('beige', 'tan', 'tan3', 'brown')) +\n  theme_minimal() + \n  labs(fill = \"Number of Oil Spill Incidents\")\n\n\n\n\n\n\n\n\nFigure 3: This map of California is divided by county boundaries. The shade of brown represents the number of oil spill incidents that occurred within each county during the year 2008, darker shades representing more oil spill incidents and softer shades representing fewer oil spills. Offshore oil spills are counted towards the coastal county whose territory they occurred in."
  },
  {
    "objectID": "posts/ca_oil_spills/index.html#data",
    "href": "posts/ca_oil_spills/index.html#data",
    "title": "CA Oil Spills",
    "section": "",
    "text": "California Fish and Wildlife. Updated October 24, 2023. Oil Spill Incident Tracking [ds394]. California State Geoportal. https://gis.data.ca.gov/datasets/CDFW::oil-spill-incident-tracking-ds394-1/explore?location=36.842021%2C-119.422009%2C6.74"
  },
  {
    "objectID": "posts/ca_oil_spills/index.html#load-libraries",
    "href": "posts/ca_oil_spills/index.html#load-libraries",
    "title": "CA Oil Spills",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(here)\nlibrary(broom)\nlibrary(janitor)\nlibrary(sf)\nlibrary(tmap)\nlibrary(terra)\nlibrary(tidyterra)\nlibrary(gstat)\nlibrary(stars)\nlibrary(spatstat)"
  },
  {
    "objectID": "posts/ca_oil_spills/index.html#load-and-clean-data",
    "href": "posts/ca_oil_spills/index.html#load-and-clean-data",
    "title": "CA Oil Spills",
    "section": "",
    "text": "Code\noil_raw &lt;- read_csv(here('data', 'Oil_Spill_Incident_Tracking_[ds394].csv'))\n\noil_df &lt;- oil_raw %&gt;%\n  clean_names() %&gt;%\n  select(x, y, objectid) %&gt;%\n  drop_na()\n\nca_counties &lt;- read_sf(here('data', 'ca_counties', 'CA_Counties_TIGER2016.shp'))\n\ncounties_sf &lt;- ca_counties %&gt;%\n  clean_names() %&gt;%\n  select(name)\n\n\n\n\nCode\n# convert oil to sf w/ same CRS as counties\n\noil_sf &lt;- oil_df %&gt;%\n  st_as_sf(coords = c(\"x\", \"y\"))\n\nst_crs(oil_sf) &lt;- 3857"
  },
  {
    "objectID": "posts/ca_oil_spills/index.html#exploratory-plots",
    "href": "posts/ca_oil_spills/index.html#exploratory-plots",
    "title": "CA Oil Spills",
    "section": "",
    "text": "Code\nggplot() +\n  geom_sf(data = counties_sf) +\n  geom_sf(data = oil_sf) \n\n\n\n\n\n\n\n\nFigure 1: Exploratory ggPlot\n\n\n\n\n\n\n\nCode\ntmap_mode(mode = 'view')\n\ntm_shape(counties_sf) + \n  tm_fill(\"gray\") + \n  tm_shape(oil_sf) + \n  tm_dots(col = \"red\")\n\n\n\n\n\n\n\n\nFigure 2: Exploratory Interactive Map"
  },
  {
    "objectID": "posts/ca_oil_spills/index.html#create-choropleth",
    "href": "posts/ca_oil_spills/index.html#create-choropleth",
    "title": "CA Oil Spills",
    "section": "",
    "text": "Code\n# spatial join \n\nca_oil &lt;- st_join(counties_sf, oil_sf)\n\n\n\n\nCode\nca_oil_sf &lt;- ca_oil %&gt;%\n  group_by(name) %&gt;%\n  summarize(n_records = sum(!is.na(objectid)))\n\nggplot() + \n  geom_sf(data = ca_oil_sf, \n          aes(fill = n_records), \n          color = \"black\", \n          size = 1) + \n  scale_fill_gradientn(colors = c('beige', 'tan', 'tan3', 'brown')) +\n  theme_minimal() + \n  labs(fill = \"Number of Oil Spill Incidents\")\n\n\n\n\n\n\n\n\nFigure 3: This map of California is divided by county boundaries. The shade of brown represents the number of oil spill incidents that occurred within each county during the year 2008, darker shades representing more oil spill incidents and softer shades representing fewer oil spills. Offshore oil spills are counted towards the coastal county whose territory they occurred in."
  },
  {
    "objectID": "posts/shrek/index.html",
    "href": "posts/shrek/index.html",
    "title": "Text and Sentiment Analysis of Shrek Movie Script",
    "section": "",
    "text": "Shrek"
  },
  {
    "objectID": "posts/shrek/index.html#data",
    "href": "posts/shrek/index.html#data",
    "title": "Text and Sentiment Analysis of Shrek Movie Script",
    "section": "Data",
    "text": "Data\nElliott T., Rossio T., Stillman J., Schulman R. (2001). Shrek. https://script-pdf.s3-us-west-2.amazonaws.com/shrek-script-pdf.pdf\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(pdftools)\nlibrary(ggwordcloud)\nlibrary(patchwork)\nlibrary(here)\n\n\n\n\nCode\nshrek_text &lt;- pdf_text(here('data', 'shrek-script-pdf.pdf'))\n\n\n\n\nCode\nshrek_df &lt;- data.frame(shrek_text) %&gt;%\n  mutate(page = 1:n()) %&gt;%\n  mutate(text = str_split(shrek_text, pattern = '\\\\n')) %&gt;%\n  unnest(text) %&gt;%\n  mutate(text = str_trim(text)) %&gt;%\n  select(page, text)\n\n\n\n\nCode\nshrek_lines &lt;- shrek_df %&gt;%\n  filter(page != 1) %&gt;%\n  mutate(character = ifelse(str_detect(text, \"SHREK\") | \n                            str_detect(text, \"Allstar\") |\n                            str_detect(text, \"MAN1\") |\n                            str_detect(text, \"MEN\") |\n                            str_detect(text, \"GUARD\") |\n                            str_detect(text, \"DONKEY\") |\n                            str_detect(text, \"OLD WOMAN\") |\n                            str_detect(text, \"PINOCCHIO\") |\n                            str_detect(text, \"PETER PAN\") |\n                            str_detect(text, \"BLIND MOUSE1\") |\n                            str_detect(text, \"GORDO\") |\n                            str_detect(text, \"DWARF\") |\n                            str_detect(text, \"BIG BAD WOLF\") |\n                            str_detect(text, \"LITTLE PIG\") |\n                            str_detect(text, \"FARQUAAD\") |\n                            str_detect(text, \"GINGERBREAD MAN\") |\n                            str_detect(text, \"MIRROR\") |\n                            str_detect(text, \"THELONIUS\") |\n                            str_detect(text, \"CROWD\")| \n                            str_detect(text, \"MAN\") |\n                            str_detect(text, \"WOODEN PEOPLE\") |\n                            str_detect(text, \"WOMAN\") |\n                            str_detect(text, \"FIONA\") |\n                            str_detect(text, \"ROBIN HOOD\") |\n                            str_detect(text, \"MERRY MEN\")| \n                            str_detect(text, \"PRIEST\"), \n                            text, NA)) %&gt;%\n  fill(character, .direction = 'down') %&gt;%\n  filter(character == c(\"SHREK\", \"DONKEY\", \"FARQUAAD\", \"FIONA\"))\n\n\n\n\nCode\nshrek_words &lt;- shrek_lines %&gt;%\n  unnest_tokens(word, text)\n\n\n\n\nCode\nshrek_wordcount &lt;- shrek_words %&gt;%\n  count(character, word)\n\n\n\n\nCode\n# remove stopwords \n\nwordcount_clean &lt;- shrek_wordcount %&gt;%\n  anti_join(stop_words, by = 'word')\n\n\n\n\nCode\ntop_5_words &lt;- wordcount_clean %&gt;%\n  group_by(character) %&gt;%\n  arrange(-n) %&gt;%\n  slice(2:6) %&gt;%\n  ungroup()\n\n\n\n\nCode\nword_count_plot &lt;- ggplot(data = top_5_words, \n       aes(x = n, y = reorder(word, n))) + \n  geom_col(fill = \"green3\") + \n  facet_wrap(~character, scales = \"free\") + \n  theme_minimal() + \n  labs(x = \"Number of Instances Word is Used\", \n       y = \"Word\")\n\nplot(word_count_plot)\n\n\n\n\n\n\n\n\nFigure 1: Each graph above shows the five words most frequently said by the four main characters of the movie Shrek: Shrek, Donkey, Fiona, and Lord Farquaad. The y-axis displays each character’s top five words, and the x-axis shows the count of how many times the character used that word throughout the movie. Note the different scales of x-axis between each of the characters. Donkey said his most common word 24 times, whereas Lord Farquaad only said his most common word 7 times during the movie.\n\n\n\n\n\n\n\nCode\n# sentiment analysis\n\nnrc_lex &lt;- get_sentiments(lexicon = \"nrc\")\n\nshrek_nrc &lt;- shrek_words %&gt;%\n  inner_join(nrc_lex, by = 'word')\n\n\n\n\nCode\nnrc_counts &lt;- shrek_nrc %&gt;%\n  group_by(character, sentiment) %&gt;%\n  summarize(n = n())\n\nnrc_shrek &lt;- nrc_counts %&gt;%\n  filter(character == \"SHREK\")\n\nnrc_donkey &lt;- nrc_counts %&gt;%\n  filter(character == \"DONKEY\")\n\nnrc_fiona &lt;- nrc_counts %&gt;%\n  filter(character == \"FIONA\")\n\nnrc_farquaad &lt;- nrc_counts %&gt;%\n  filter(character == \"FARQUAAD\")\n\n\n\n\nCode\nshrek_sentiment &lt;- ggplot(data = nrc_shrek, \n       aes(x = reorder(sentiment, -n), \n           y = n)) + \n  geom_col(fill = \"green4\") + \n  labs(x = \"Shrek\", y = \"Word Count\") +\n  theme_minimal() + \n  theme(axis.text.x = element_text(angle = 45))\n  \ndonkey_sentiment &lt;- ggplot(data = nrc_donkey, \n       aes(x = reorder(sentiment, -n), \n           y = n)) + \n  geom_col(fill = \"darkgrey\") + \n  labs(x = \"Donkey\", y = \" \") +\n  theme_minimal() + \n  theme(axis.text.x = element_text(angle = 45))\n\nfiona_sentiment &lt;- ggplot(data = nrc_fiona, \n       aes(x = reorder(sentiment, -n), \n           y = n)) + \n  geom_col(fill = \"green2\") + \n  labs(x = \"Fiona\", y = \" \") +\n  theme_minimal() + \n  theme(axis.text.x = element_text(angle = 45))\n\nfarquaad_sentiment &lt;- ggplot(data = nrc_farquaad, \n       aes(x = reorder(sentiment, -n), \n           y = n)) + \n  geom_col(fill = \"maroon\") + \n  labs(x = \"Lord Farquaad\", y = \"Word Count\") +\n  theme_minimal() + \n  theme(axis.text.x = element_text(angle = 45))\n\n\n\n\nCode\npatch &lt;- (shrek_sentiment + donkey_sentiment) / (farquaad_sentiment + fiona_sentiment) \npatch\n\n\n\n\n\n\n\n\nFigure 2: Each graph shows the frequency in which each of the four main characters of Shrek expressed certain emotions throughout the movie. The x-axis lists the different sentiments measured, and the y-axis shows the count of how many words the character spoke that displayed a given sentiment. Note the different scales of y-axis between each of the characters. Donkey is a chatty character that is present throughout the entire movie, whereas Fiona is less talkative and does not appear until the end of the film. Therefore, Donkey says many more words throughout the film and his word counts are higher for each of the measured sentiments. The colors correspond to the characters’ appearances: Shrek is a green ogre, Fiona is a slightly softer green in her ogre form, donkey is gray, and Lord Farquaad wears a maroon outfit."
  },
  {
    "objectID": "posts/infographic/index.html",
    "href": "posts/infographic/index.html",
    "title": "Navigating California’s Water Rights",
    "section": "",
    "text": "Introduction\nCalifornia’s water rights system is a product of the state’s history, precipitation variability and scarcity, and competing socioeconomic demands. As one of the most water-stressed states in the United States, California faces ongoing challenges in balancing the needs of cities, farms, and ecosystems—especially during drought years. Water has shaped the state’s development for centuries, from fueling the Gold Rush economy to sustaining one of the world’s most productive agricultural industries and providing drinking water for millions of residents.\nHowever, access to water is not equal. Those who hold the oldest, most senior water rights have a significant advantage, often dictating how water is distributed and who gets cut off first in times of shortage.\nThis led me to explore the question: How does California’s water rights system influence water availability and allocation across different sectors? Specifically,\n\nHow does California’s legal framework for water rights compare to other states?\nWhich water use sectors hold the most senior (older) rights?\nHow has water appropriation for different sectors grown between 1930 and 1999?\n\nTo answer these, I analyzed data from the Har-DWR Cumulative Water Rights Curves (Lisk et al. 2023), which aggregated appropriated water flow rights by designated use in California. By visualizing this data, my goal is to highlight the uniqueness of California’s water rights system and reveal how historical water policies continue to shape who gets water—and who doesn’t—today.\n\n\nPlot 1: Water rights legal frameworks in each state in the U.S.\nMy first graphic is a choropleth in which the colors represent the legal framework that governs water right appropriations in each of the United States. This figure is meant to highlight that California’s legal framework is unique from the rest of the country. In general, eastern states operate under a riparian rights system and western states use prior appropriation. California is the only state that with existing water rights based on both legal systems.\nThe only text I included in this figure on the final infographic is the legend. I opted to remove the title and subtitle because it was redundant to other text present in the infographic. I chose the colors with the intention of highlighting California apart from the other states. I wanted to make California gold, because the history of the water rights system in the state is closely tied to its history, in particular the Gold Rush in the late 1800s. I chose a deeper green to represent the riparian states, because this legal framework is more appropriate for regions where water is abundant, and a lighter and less-saturated green to represent western states that operate under prior appropriation where water is often scarce. In selecting these colors, I also considered accessibility, aiming to maximize contrast and use colorblind-friendly palettes. I used a void theme to maximize simplicity by removing unnecessary grid lines and background elements, guiding the viewer to focus on the spatial patterns displayed in the choropleth.\nThe data used to create this map comes from Table 2.4 Framework of Western Surface Water Law and Table 2.5 Framework of Eastern Surface Water Law in Chapter 2 of “A Twenty-First Century US Water Policy” by Juliet Christian-Smith and Peter H. Gleick.\n\n\n\n\n\n\n\n\n\n\n\nPlot 2: CA water rights uses by decade\nMy second graphic is a bar graph that shows the added water appropriations for different designated uses (domestic, environment, industrial, and agriculture) in each decade between the 1930s and 1990s. In California, older water rights are more senior. This means that in times of water scarcity, a regular occurrence in western U.S., those who own senior water rights will receive the entirety of their allotment while more junior water users will not receive any water at all. The purpose of this graphic is to show which sectors have most of the older water rights. In general, industry and domestic water rights are more senior to agriculture and environmental rights.\nTo create this data visualization, I summed and aggregated appropriated water flow (CFS) into the four included designated uses for each decade. The descriptive title is color-coordinated, highlighting industrial and domestic uses, which have more rights and older rights than the other two categories. The subtitle reminds the viewer that older water rights are more senior and are prioritized when water is scarce to put the data into context. I also chose to modify the y-axis tick marks from the default “100000” to “100K” format to reduce the data-ink ratio and improve simplicity. I used the classic theme to create a clean, minimalistic design with axis lines that help guide the viewer’s eye while focusing on the data.\nThe colors selected to represent each of the designated uses was based the standard color palette of the National Land Cover Database. It is typical to see residential areas represented in red, industrial in a dark gray, and agriculture in tan. I opted to represent the environment as blue, because typically environmental water rights are used to maintain in-stream flow or keeping water in the creeks or rivers where they would otherwise be diverted to sustain riparian plants, fish and other aquatic species. In selecting these colors, I also considered accessibility, aiming to maximize contrast and use colorblind-friendly palettes.\n\n\n\n\n\n\n\n\n\n\n\nPlot 3: Relative change in appropriated water volume and annual runoff\nMy third and final graphic is a line graph which shows how the cumulative appropriated water flows has grown between 1930 and 1999 for each of the four designated uses (environment, agriculture, domestic, and industry). The purpose of this graphic is to show how water-intensive the growth of industry was in the 1900s compared to other sectors.\nFor consistency, I kept the same color palette and classic theme that I used in Plot 2. I opted to use color-coded labels in place of a legend to reduce viewer eye movement. I also added qualitative y-axis labels and horizontal dotted lines to provide means of comparison for the viewer to interpret appropriated flow rates in cubic feet per second. I made these horizontal lines dotted, light gray, and behind the designated use lines, to indicate to the reader that this information is secondary should be looked at after observing the growth trends of each designated use.\nI used text in this figure includes a title, subtitle, and caption. I aimed for simplicity in the title because the graph has a lot of components and may be confusing to a viewer without prior knowledge of the subject matter. The subtitle points the viewer to consider the horizontal lines and qualitative axes labels that provide context to compare flow rates of California water rights to the flow out of the Oroville Dam, the tallest dam in the United States, and the Amazon River, the fastest river in the world.\n\n\n\n\n\n\n\n\n\n\n\nPutting it all together\nI created the infographic manually using Microsoft PowerPoint. I added each of the three figures to a blank slide and added supporting text, diagrams, and icons to highlight important takeaways and provide context to viewers.\n\n\nTo view the code used to create each of the three figures, click the drop down arrows below\n\nPlot 1: Choropleth Map\n\n\nCode\nlibrary(sf)\n\n# load shapefile of US\nshapefile &lt;- read_sf(here(\"data\", \n                          \"shapefile\", \n                          \"s_18mr25.shp\")) \n\n# create df of legal frameworks for each state\nus_rights &lt;- tibble(\n  NAME = c(\"Arizona\", \"Colorado\", \"Idaho\", \"Montana\", \"Nevada\", \"New Mexico\", \n            \"Utah\", \"Wyoming\", \"Kansas\", \"North Dakota\", \"South Dakota\", \"Oregon\", \"Texas\", \n            \"Washington\", \"Nebraska\", \"Oklahoma\", \"New Hampshire\", \"Vermont\", \"Rhode Island\", \n            \"West Virginia\", \"Ohio\", \"Tennessee\", \"Missouri\", \"Louisiana\", \"Alabama\", \"Arkansas\", \n            \"Connecticut\", \"Delaware\", \"New York\", \"New Jersey\", \"Maryland\", \"Illinois\", \n            \"Indiana\", \"Iowa\", \"Kentucky\", \"Massachusetts\", \"Pennsylvania\", \"Mississippi\", \"Maine\", \"Michigan\",\n            \"Minnesota\", \"North Carolina\", \"South Carolina\", \"Georgia\", \"Florida\", \n            \"Virginia\", \"Wisconsin\", \"California\"),\n  legal_framework = c(rep(\"Prior appropriation\", 16), \n                        rep(\"Riparian\", 31), \n                        \"Combination\"))\n\n# join legal frameworks to shapefile\nusa_states_joined &lt;- left_join(shapefile, us_rights, by = \"NAME\") %&gt;%\n  drop_na(legal_framework) |&gt;\n  st_transform(\"ESRI:102003\")\n\n\nlegal_framework_pal &lt;- c(\"Riparian\" = \"#667b68\", \n                         \"Prior appropriation\" = \"#a3b899\", \n                         \"Combination\" = \"#ffcc5c\") \n\n# create map\nggplot() + \n  geom_sf(data = usa_states_joined, \n          aes(fill = legal_framework), \n          color = \"black\", \n          size = 1) + \n  scale_fill_manual(values = legal_framework_pal) + \n  theme_void() + \n  labs(fill = \"Legal Framework\", \n       title = \"California has a unique legal framework for governing water rights\", \n       subtitle = \"In 1914, California transitioned from a Riparian to Prior appropriation framework.\\nPre-1914 water rights are the most senior and valuable water rights in the state\") +\n  theme(legend.position = \"bottom\", \n        plot.title = element_text(face = \"bold\"))\n\n\n\n\nPlot 2: Bar Graph\n\n\nCode\n# create color palette for water uses\nwater_use_pal &lt;- c(\"Domestic\" = \"#9b1b34\", \n                   \"Environment\" = \"#93afce\", \n                   \"Industrial\" = \"#4a4343\", \n                   \"Agriculture\" = \"#d8a451\")\n\n# group cfs by decade and water use\nca_rights_use &lt;- ca_rights %&gt;%\n  clean_names() %&gt;%\n  select(priority_date, cfs, water_use) %&gt;%\n  mutate(date = mdy(priority_date)) %&gt;%\n  mutate(date = if_else(year(date) &gt; 2023, date - years(100), date)) %&gt;%\n  mutate(year = year(date))%&gt;%\n  filter(year &gt; 1929) %&gt;%\n  filter(year &lt; 2000) %&gt;%\n  mutate(decade = case_when(\n    year %in% (1930:1939) ~ \"1930s\", \n    year %in% c(1940:1949) ~ \"1940s\", \n    year %in% (1950:1959) ~ \"1950s\", \n    year %in% c(1960:1969) ~ \"1960s\",\n    year %in% (1970:1979) ~ \"1970s\", \n    year %in% c(1980:1989) ~ \"1980s\",\n    year %in% c(1990:1999) ~ \"1990s\"\n  )) %&gt;%\n  select(decade, cfs, water_use) %&gt;%\n  group_by(decade, water_use) %&gt;%\n  summarise(cfs = sum(cfs)) %&gt;%\n  ungroup() %&gt;%\n  filter(water_use != \"other\") %&gt;%\n  mutate(water_use = case_when(\n    water_use %in% c(\"livestock\", \"irrigation\") ~ \"Agriculture\",\n    water_use %in% c(\"environmental\", \"fish\") ~ \"Environment\",\n    water_use == \"industrial\" ~ \"Industrial\",\n    water_use == \"domestic\" ~ \"Domestic\")) %&gt;%\n  drop_na() %&gt;%\n  group_by(decade) %&gt;%\n  arrange(decade, desc(cfs)) %&gt;%\n  mutate(water_use = factor(water_use, levels = unique(water_use))) %&gt;%\n  ungroup()\n\n# create bar chart of appropriated water for each use by decade\nggplot(data = ca_rights_use, \n       aes(x = decade, y = cfs, fill = water_use)) + \n  geom_col(position = \"dodge\") + \n  scale_fill_manual(values = water_use_pal) + \n  scale_y_continuous(labels = scales::label_number(accuracy = 1, scale = 0.001, suffix = \"K\"),\n                     expand = c(0,0)) +\n  theme_classic() + \n  labs(subtitle = \"Older water rights are more senior and are prioritized when water is scarce\", \n       title = \"Most California water rights are appropriated for &lt;span style='color:#4a4343;'&gt;industrial&lt;/span&gt; and &lt;span style='color:#9b1b34;'&gt;domestic&lt;/span&gt; use\",\n       x = \" \", \n       y = \"Appropriated Water (CFS)\", \n       fill = \"Water Use\",\n       caption = \"Data Source: HarDWR - Cumulative Water Rights Curves (Lisk et al. 2023)\") + \n  theme(\n    plot.title.position = \"plot\",\n    plot.title = element_markdown(face = \"bold\"),\n    plot.caption = element_text(hjust = 1, face = \"italic\"),\n    \n    legend.position = \"bottom\", \n    \n    axis.text = element_text(color = \"black\")) + \n  coord_fixed(ratio = 0.00003)\n\n\n\n\nPlot 3: Line Graph\n\n\nCode\n# create a df of cumulative sum of appropriated cfs for each use by year\nca_rights_ts &lt;- ca_rights %&gt;%\n  clean_names() %&gt;%\n  select(priority_date, cfs, water_use) %&gt;%\n  mutate(date = mdy(priority_date)) %&gt;%\n  mutate(date = if_else(year(date) &gt; 2023, date - years(100), date)) %&gt;%\n  mutate(year = year(date)) %&gt;%\n  filter(year &gt; 1929) %&gt;%\n  filter(year &lt; 2000) %&gt;%\n  group_by(year, water_use) %&gt;%\n  summarise(cfs = sum(cfs)) %&gt;%\n  ungroup() %&gt;%\n  filter(water_use != \"other\") %&gt;%\n  mutate(water_use = case_when(\n    water_use %in% c(\"livestock\", \"irrigation\") ~ \"Agriculture\",\n    water_use %in% c(\"environmental\", \"fish\") ~ \"Environment\",\n    water_use == \"industrial\" ~ \"Industrial\",\n    water_use == \"domestic\" ~ \"Domestic\"\n  )) %&gt;%\n  arrange(water_use, year) %&gt;%  \n  group_by(water_use) %&gt;%     \n  mutate(agg_cfs = cumsum(cfs)) %&gt;%  \n  ungroup()\n\n\n\ny_breaks &lt;- c(36000, 100000, 200000, 300000, 400000)\ny_labels &lt;- c(\"Max Flow from Oroville Dam\", \"100K\", \"200K\", \"300K\", \"Avg. Flow at Mouth of Amazon River\")\n\n# create line graph showing growth in annual appropriations of water by designated use\nggplot() + \n  geom_hline(aes(yintercept = 36000), color = \"lightgray\", linetype = \"dashed\") + # max oroville dam cfs\n  geom_hline(aes(yintercept = 400000), color = \"lightgray\", linetype = \"dashed\") +\n  geom_line(data = ca_rights_ts, \n            mapping = aes(x = year, y = agg_cfs, color = water_use), \n            linewidth = 1) +\n  theme_classic() + \n  scale_y_continuous(expand = c(0,0),\n                     breaks = y_breaks,\n                     labels = str_wrap(y_labels, width = 18)) +\n  scale_x_continuous(breaks = seq(min(ca_rights_ts$year), max(ca_rights_ts$year), by = 10), \n                     expand = c(0,0)) + \n  coord_fixed(ratio = 0.00008) + \n  scale_color_manual(values = water_use_pal) +\n  labs(y = \"Appropriated Water (CFS)\", \n       x = \" \") + \n  annotate(\n    geom = \"text\", \n    x = 1993, \n    y = 415000,\n    label = \"Industrial\",\n    size = 3.5,\n    color = \"#4a4343\") + \n  annotate(\n    geom = \"text\", \n    x = 1994, \n    y = 255000,\n    label = \"Domestic\",\n    size = 3.5,\n    color = \"#9b1b34\") + \n  annotate(\n    geom = \"text\", \n    x = 1986, \n    y = 190500,\n    label = \"Environment\",\n    size = 3.5,\n    color = \"#93afce\") + \n  annotate(\n    geom = \"text\", \n    x = 1992, \n    y = 158000,\n    label = \"Agriculture\",\n    size = 3.5,\n    color = \"#d8a451\") + \n  labs(title = \"Growth of CA Appropriated Water Rights (1930-1999) by Beneficial Use\",\n       subtitle = \"Industrial water rights in California have the largest and fastest-growing appropriated flow,\\nexceeding the average flow at the mouth of the Amazon River, the fastest river in the world.\",\n       caption = \"Data Source: HarDWR - Cumulative Water Rights Curves (Lisk et al. 2023)\",\n       color = \"Water Use\") + \n  theme(plot.title.position = \"plot\", \n        plot.title = element_text(face = \"bold\"), \n        plot.caption = element_text(hjust = 1, face = \"italic\"),\n        legend.position = \"none\",\n        \n        axis.text = element_text(color = \"black\"), \n        axis.title.y = element_text(margin = margin(t = 0, r = 10, b = 0, l = 0))\n        )"
  },
  {
    "objectID": "posts/maize_sorghum/index.html",
    "href": "posts/maize_sorghum/index.html",
    "title": "Nonlinear Regression Models and Applications in Agricultural Research",
    "section": "",
    "text": "1 Overview\nThe data includes information about Sorghum and Maize growth in Greece. The five variables in the dataset are Day of the Year (DOY), Block in the experimental design (1, 2, 3, or 4), Input level 1 (Low) or 2 (High), Crop (F-Fiber Sorghum, M-Maize, S-Sweet Sorghum), and Biomass yield in Mg/ha. In this analysis, a beta function was defined by the formula given in Table 1, Equation 2.5 of the cited paper. A non-linear least squares regression was developed using the sorghum crops with high input level, and then run over all 24 combinations of block, input level and crop type.\nPseudocode:\n\nLoad libraries and data\nDefine beta function from table 1, equation 2.5 in cited paper\nCreate exploratory ggplot and formulate guesses of y_max (the maximum crop yield), t_m (the day at which the growth rate is at a maximum), and t_e (the day at which yield reaches its maximum)\nCreate subset of data using only sorghum crops and high input level\nRun NLS on subset created in previous step\nCreate a table using Kable to show resulting coefficients and their significance\nCreate ggplot showing the NLS curve over all of the data\nRun the NLS on all 24 combinations of crop, input level and block using purr maps\nFilter to select the three models with the lowest RMSE, and create a table using Kable to show resulting coefficients and their significance\nRe-create Figure 7 from cited paper (filter to only include data from block 1 & separate into high and low input)\n\n\n\n2 Data\nArchontoulis, S.V. and Miguez, F.E. (2015), Nonlinear Regression Models and Applications in Agricultural Research. Agronomy Journal, 107: 786-798. https://doi.org/10.2134/agronj2012.0506\n\n\n3 Load libraries and data\n\n\nCode\nlibrary(tidyverse)\nlibrary(here)\nlibrary(nlraa)\nlibrary(kableExtra)\nlibrary(Metrics)\nlibrary(patchwork)\n\nsm_df &lt;- sm %&gt;%\n  janitor::clean_names() %&gt;%\n  group_by(crop)\n\n\n\n\n4 Beta Function (Table 1, Equation 2.5)\nY is the response variable, biomass. Y_max is the maximum possible biomass. T represents the number day of the year. T_m is the inflection point at which the growth rate is maximized, t_e represents the time where the biomass is equal to its maximum possible value.\n\n\nCode\nbeta_fxn &lt;- function(doy, t_e, t_m, y_max){\n  out = y_max * (1 + (t_e - doy)/ (t_e - t_m)) * (doy/t_e)^(t_e/(t_e - t_m))\n  return(out)\n}\n\n\n\n\nCode\ny_max = 48\nt_e = 280\nt_m = 250\n\nsm_sim &lt;- sm_df %&gt;%\n  mutate(predict = beta_fxn(doy, t_e, t_m, y_max))\n\nsm_sim$input &lt;- factor(sm_sim$input, levels = c(\"1\", \"2\"), labels = c(\"Low\", \"High\"))\n\nggplot(data = sm_sim, \n       aes(x = doy, y = yield, shape = crop)) + \n  geom_point(alpha = 0.5) + \n  geom_line(aes(x = doy, y = predict), linewidth = 1, color = \"red\") + \n  facet_wrap(~input) +\n  theme_bw() + \n  labs(y = \"Biomass (Mg/ha)\", x = \"Day of the Year\")\n\n\n\n\nCode\n# filter out low inputs \n\nsm_high &lt;- sm_df %&gt;%\n  filter(input == 2) %&gt;%\n  filter(input != \"M\")\n\n\n\n\nCode\ncrop_nls = nls(formula = yield ~ beta_fxn(doy, t_e, t_m, y_max), \n               data = sm_high, \n               start = list(t_e = 280, t_m = 250, y_max = 48), \n               trace = TRUE)\n\n\n7190.369    (1.06e+00): par = (280 250 48)\n3957.870    (3.38e-01): par = (280.4039 244.2295 33.27629)\n3573.196    (4.69e-02): par = (283.2193 243.8878 34.6814)\n3565.719    (5.04e-03): par = (283.8228 244.8815 35.15783)\n3565.650    (1.22e-03): par = (283.8441 244.7846 35.11932)\n3565.646    (3.02e-04): par = (283.8366 244.8065 35.13029)\n3565.646    (7.48e-05): par = (283.8385 244.8012 35.12763)\n3565.646    (1.85e-05): par = (283.8381 244.8025 35.12829)\n3565.646    (4.58e-06): par = (283.8382 244.8022 35.12813)\n\n\n\n\nCode\ncrop_nls %&gt;%\n  broom::tidy() %&gt;% \n  mutate(p.value = ifelse(p.value &lt;= 0.05, \"&lt;0.05\")) %&gt;%\n  kbl(digits = 2, align = NULL) %&gt;%\n  kable_classic() \n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\nt_e\n283.84\n1.85\n153.20\n&lt;0.05\n\n\nt_m\n244.80\n2.23\n109.95\n&lt;0.05\n\n\ny_max\n35.13\n1.26\n27.82\n&lt;0.05\n\n\n\n\n\n\n\n\n\n5 Graph Model over Data\n\n\nCode\nt_e = 283.84\nt_m = 244.80\ny_max = 35.13\n\n\nsm_plot &lt;- sm_high %&gt;%\n  mutate(predict = beta_fxn(doy, t_e, t_m, y_max))\n\n\nggplot(data = sm_plot, \n       aes(x = doy, y = yield, color = crop)) + \n  geom_point() + \n  geom_line(aes(x = doy, y = predict), linewidth = 1, color = \"gray1\") + \n  theme_minimal() + \n  labs(y = \"Biomass (Mg/ha)\", x = \"Day of the Year\")\n\n\n\n\n\n\n\n\nFigure 1: Crop type is represented by color: Fiber Sorghum (red), Maize (green), and Sweet Sorghum (blue). The x-axis represnts time by days of the year, and the y-axis represents yield in biomass (Mg/ha). The fitted NLS curve is shown in black over the data points.\n\n\n\n\n\n\n\n6 Run Model on all Combinations of Input, Block & Crop\n\n\nCode\nsm_df1 &lt;- sm_df %&gt;% group_by(crop)\n\n\n\n\nCode\nall_nls_fxn &lt;- function(sm_df){\n  nls(yield ~ beta_fxn(doy, t_e, t_m, y_max), \n  data = sm_df, \n  start = list(t_e = 283.84, t_m = 244.80, y_max = 30))\n}\n\n\n\n\nCode\nyield_all &lt;- sm_df %&gt;%\n  group_by(block, input, crop) %&gt;%\n  nest() %&gt;%\n  mutate(nls_model = map(data,~all_nls_fxn(.x))) %&gt;%\n  mutate(predictions = map2(nls_model, data, ~predict(.x, newdata = .y))) %&gt;%\n  mutate(RMSE = map2_dbl(predictions, data, ~rmse(.x, .y$yield))) %&gt;%\n  mutate(smooth = map(nls_model, ~predict(.x, newdata = list(doy = seq(147, 306)))))\n\n\n\n\nCode\nrmse_table &lt;- yield_all %&gt;%\n  group_by(crop) %&gt;%\n  summarize(rmse = min(RMSE))\n\n\nlow_rmse &lt;- yield_all %&gt;%\n  filter(RMSE %in% rmse_table$rmse) \n\nlow_rmse_M &lt;- broom::tidy(low_rmse$nls_model[[1]]) %&gt;%\n  mutate(crop = \"M\")\n\nlow_rmse_S &lt;- broom::tidy(low_rmse$nls_model[[2]]) %&gt;%\n  mutate(crop = \"S\") \n\nlow_rmse_F &lt;- broom::tidy(low_rmse$nls_model[[3]]) %&gt;%\n  mutate(crop = \"F\") \n\nlow_rmse_combined &lt;- bind_rows(low_rmse_M, low_rmse_S, low_rmse_F) \n\nlow_rmse_combined %&gt;%\n  kbl() %&gt;%\n  kable_classic()\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\ncrop\n\n\n\n\nt_e\n252.57494\n1.8691820\n135.12592\n0.0e+00\nM\n\n\nt_m\n225.22836\n1.9262855\n116.92367\n0.0e+00\nM\n\n\ny_max\n18.93110\n0.8396968\n22.54516\n5.0e-07\nM\n\n\nt_e\n278.34654\n1.8171219\n153.17990\n0.0e+00\nS\n\n\nt_m\n245.77427\n3.8150134\n64.42291\n0.0e+00\nS\n\n\ny_max\n31.34742\n2.0479985\n15.30637\n1.2e-06\nS\n\n\nt_e\n280.42964\n1.8389514\n152.49432\n0.0e+00\nF\n\n\nt_m\n244.99880\n3.5385395\n69.23727\n0.0e+00\nF\n\n\ny_max\n29.05639\n1.6576360\n17.52881\n5.0e-07\nF\n\n\n\n\n\n\n\n\n\nCode\n# unnest predictions from data \nun_df &lt;- yield_all %&gt;%\n  filter(block == 1) %&gt;%\n  tidyr::unnest(smooth) %&gt;%\n  mutate(doy = seq(147, 306)) %&gt;%\n  filter(!(doy &gt; 263 & crop == \"M\"))\n\n\n\n\nCode\n# create df to add corn data \n\nhi_filter &lt;- sm_df %&gt;%\n  filter(block == 1 & input == 2)\n\nlow_filter &lt;- sm_df %&gt;%\n  filter(block == 1 & input == 1)\n\n\n\n\n7 Recreate Figure 7\n\n\nCode\nhi_plot &lt;- un_df %&gt;% \n  filter(block == 1 & input == 2) %&gt;%\n  ggplot() + \n  geom_point(data = hi_filter, aes(x = doy, y = yield, shape = crop), show.legend = FALSE) + \n  geom_line(aes(x = doy, y = smooth, linetype = crop), show.legend = FALSE) + \n  labs(title = \"High\", y = \"Biomass (Mg/ha)\", x = \"Day of Year\", color = \"\")\n\nlow_plot &lt;- un_df %&gt;% \n  filter(block == 1 & input == 1) %&gt;%\n  ggplot() + \n  geom_point(data = low_filter, aes(x = doy, y = yield, shape = crop)) + \n  geom_line(aes(x = doy, y = smooth, linetype = crop)) + \n  labs(title = \"Low\", y = \"\", x = \"Day of Year\", color = \"\")\n\npatch &lt;- hi_plot + low_plot \npatch\n\n\n\n\n\n\n\n\nFigure 2: Observed data and fit for the final model for three crops: maize (M), fiber sorghum (F), and sweet sorghum (S)"
  },
  {
    "objectID": "posts/noaa_fish/index.html#biplot",
    "href": "posts/noaa_fish/index.html#biplot",
    "title": "Coastal Alaska Arctic Cod Survey",
    "section": "4.1 Biplot",
    "text": "4.1 Biplot\n\n\nCode\nautoplot &lt;- autoplot(\n  arctic_cod_pca, \n  data = arctic_cod_df, \n  loadings = TRUE,\n  color = \"arctic_cod\", \n  loadings.label = TRUE, \n  loadings.color = \"black\", \n  loadings.label.color = \"black\", \n  loadings.label.vjust = -0.5 \n)\n\nautoplot + \n  scale_color_gradient(low = \"gold\", high = \"green4\") +\n  labs(x = \"Principal Component 1 (39.67%)\", y = \"Principal Component 2 (29.09%)\", color = \"Observed \\nArctic Cod\") +\n  theme_minimal() +\n  theme(axis.title.x = element_text(vjust = -0.2), \n        legend.title = element_text())\n\n\n\n\n\n\n\n\nFigure 1: Biplot of arctic cod abundance, ocean surface salinity, latitude, longitude, wind speed, and ocean surface temperature"
  },
  {
    "objectID": "posts/noaa_fish/index.html#screeplot",
    "href": "posts/noaa_fish/index.html#screeplot",
    "title": "Coastal Alaska Arctic Cod Survey",
    "section": "4.2 Screeplot",
    "text": "4.2 Screeplot\n\n\nCode\nscreeplot(arctic_cod_pca, type = 'barplot')\n\n\n\n\n\n\n\n\nFigure 2: Screeplot for Principal Component Analysis on arctic cod abundance, ocean surface salinity, latitude, longitude, wind speed, and ocean surface temperature."
  },
  {
    "objectID": "posts/willamette_falls/index.html",
    "href": "posts/willamette_falls/index.html",
    "title": "Willamette Falls Fish Passage",
    "section": "",
    "text": "This report includes population data on Coho, Jack Coho, and Steelhead fish collected daily at the Willamette Falls fish ladder between 2001-2010. The plots below illustrate both the seasonality of fish species migrating through Willamette Falls and the general trend in population size over the ten year period. Also included is a forecasting model used to predict Coho Salmon population from 2010-2025."
  },
  {
    "objectID": "posts/willamette_falls/index.html#overview",
    "href": "posts/willamette_falls/index.html#overview",
    "title": "Willamette Falls Fish Passage",
    "section": "",
    "text": "This report includes population data on Coho, Jack Coho, and Steelhead fish collected daily at the Willamette Falls fish ladder between 2001-2010. The plots below illustrate both the seasonality of fish species migrating through Willamette Falls and the general trend in population size over the ten year period. Also included is a forecasting model used to predict Coho Salmon population from 2010-2025."
  },
  {
    "objectID": "posts/willamette_falls/index.html#data",
    "href": "posts/willamette_falls/index.html#data",
    "title": "Willamette Falls Fish Passage",
    "section": "2 Data",
    "text": "2 Data\nU.S. Army Corps of Engineers, NWD and Chelan, Douglas and Grant County PUDs, Yakima Klickitat Fisheries Project, Colville Tribes Fish & Wildlife (OBMEP), Oregon Department of Fish & Wildlife, Washington Department of Fish & Wildlife. 2010. Columbia River DART Adult Passage Counts Graphic & Text. WFF-Willamette Falls [2001]. Columbia Basin Research. University of Washington School of Aquatic and Fishery Sciences. https://www.cbr.washington.edu/dart/query/adult_graph_text\n\n\n\nWillamette Falls Fish Ladder by Karim Delgado\n\n\n\n\nCode\n# load libraries\n\nlibrary(tidyverse)\nlibrary(here)\nlibrary(janitor)\nlibrary(patchwork)\nlibrary(tsibble)\nlibrary(feasts)\nlibrary(fable)\nlibrary(dplyr)\n\n\n\n\nCode\n# load and clean data\n\nfish_data &lt;- read_csv(here('data', 'willamette_fish_passage.csv'))\n\nfish_df &lt;- fish_data %&gt;%\n  clean_names() %&gt;%\n  mutate(date = lubridate:: mdy(date)) %&gt;%\n  select(date, coho, jack_coho, steelhead) %&gt;%\n  replace_na(list(coho=0, jack_coho=0, steelhead=0))\n\n\n\n\nCode\n# convert to time series\n\nfish_ts &lt;- fish_df %&gt;%\n  as_tsibble(key = NULL, \n             index = date)"
  },
  {
    "objectID": "posts/willamette_falls/index.html#part-1-original-time-series",
    "href": "posts/willamette_falls/index.html#part-1-original-time-series",
    "title": "Willamette Falls Fish Passage",
    "section": "3 Part 1: Original Time Series",
    "text": "3 Part 1: Original Time Series\n\nThe time series below shows a steady increase in Coho individuals between 2001-2010, with population size surpassing 1000 individuals around 2010.\nJack coho populations remained relatively constant, apart from a notable peak at about 400 individuals in 2009.\nSteelhead populations have a seasonal but persistent presence at the Willamette Falls fish ladder, whereas both Coho and Jack coho are only observed there during specific small windows of the year.\n\n\n\nCode\n# plot time series for each species \n\ncoho &lt;- ggplot(fish_ts, aes(x = date)) + \n  geom_line(aes(y = coho)) +\n  theme_minimal() + \n  labs(x = \" \", \n       y = \"Coho\")\n\njack &lt;- ggplot(fish_ts, aes(x = date)) +\n  geom_line(aes(y = jack_coho)) +\n  theme_minimal() + \n    labs(x = \" \", \n       y = \"Jack Coho\")\n\nsteel &lt;- ggplot(fish_ts, aes(x = date)) +\n  geom_line(aes(y=steelhead)) +\n  theme_minimal() + \n    labs(x = \"Year\", \n       y = \"Steelhead\")\n\nfish_graph &lt;- coho / jack / steel + \n  plot_annotation(title = \"Fish Observed at the Willamette Falls Fish Ladder from 2001-2010\" ,\n                  caption = \"The x axis represents time in years between 2001-2010. Note the difference in magnitude of the y axes; the top \ngraph showing population is measured for Coho salmon by intervals of 500, the middle graph showing population \ntrends for Jack Coho salmon increases by intervals of 50, and the bottom graph showing population trends for \nSteelhead increases by intervals of 100.\",\n                  theme = theme(plot.title = element_text(size = 14, hjust = 0.5), \n                                plot.caption = element_text(hjust = 0.5)))\n\nfish_graph"
  },
  {
    "objectID": "posts/willamette_falls/index.html#part-2-seasonplots",
    "href": "posts/willamette_falls/index.html#part-2-seasonplots",
    "title": "Willamette Falls Fish Passage",
    "section": "4 Part 2: Seasonplots",
    "text": "4 Part 2: Seasonplots\n\nCoho and Jack coho are observed at the Willamette Falls fish ladder exclusively in and around October each year, whereas Steelhead are observed there year-round with peaks between mid spring to mid summer.\nThe number of Coho individuals observed in the fall each year has increased between 2001-2010.\nJack coho population appears to steadily rise to a peak in 2009 followed by population decline.\n\n\n\nCode\n# make individual time series for each fish species \n\ncoho_ts &lt;- fish_df %&gt;%\n  pivot_longer(\"coho\":\"steelhead\",\n               names_to = \"species\", \n               values_to = \"count\") %&gt;%\n  filter(species == \"coho\") %&gt;%\n    as_tsibble(key = NULL, \n             index = date)\n\njack_ts &lt;- fish_df %&gt;%\n  pivot_longer(\"coho\":\"steelhead\",\n               names_to = \"species\", \n               values_to = \"count\") %&gt;%\n  filter(species == \"jack_coho\") %&gt;%\n    as_tsibble(key = NULL, \n             index = date)\n\nsteel_ts &lt;- fish_df %&gt;%\n  pivot_longer(\"coho\":\"steelhead\",\n               names_to = \"species\", \n               values_to = \"count\") %&gt;%\n  filter(species == \"steelhead\") %&gt;%\n    as_tsibble(key = NULL, \n             index = date)\n             \n# create season plots \n\ncoho_season &lt;- coho_ts %&gt;%\n  gg_season(y = count, \n            pal = rainbow(n=9)) +\n  theme_light() + \n  labs(x = \" \", \n       y = \"Coho\") + \n  theme(legend.position = \"none\")\n\njack_season &lt;- jack_ts %&gt;%\n  gg_season(y = count, \n            pal = rainbow(n=9)) +\n  theme_light() + \n  labs(x = \" \", \n       y = \"Jack Coho\")\n\nsteel_season &lt;- steel_ts %&gt;%\n  gg_season(y = count, \n            pal = rainbow(n=9)) +\n  theme_light() + \n  labs(x = \"Year\", \n       y = \"Steelhead\") + \n  theme(legend.position = \"none\")\n\nfish_season &lt;- coho_season / jack_season / steel_season + \n  plot_annotation(caption = \"The plots above show the annual trends of fish species: coho (top), jack coho (center), and steelhead (bottom) \nat the Willamette Falls fish ladder from 2001-2010. The x axis shows time in months and the y axes show counts of \nindividuals of each species. Note the different y-axes scales; Coho population is shown in intervals of 250, \nJack Coho in intervals of 50, and Steelhead 100. The colors represent each year between 2001-2010 with red representing \n2001 followed by a rainbow gradient where purple and pink represent the most recent years. \" , \n                  theme = theme(plot.caption = element_text(hjust = 0.5)))\n\nfish_season"
  },
  {
    "objectID": "posts/willamette_falls/index.html#part-3-annual-counts-by-species",
    "href": "posts/willamette_falls/index.html#part-3-annual-counts-by-species",
    "title": "Willamette Falls Fish Passage",
    "section": "5 Part 3: Annual counts by species",
    "text": "5 Part 3: Annual counts by species\n\nNote the different y-axis scales in each of the figures below. Coho populations reach a maximum of over 250,000 individuals; Steelhead about 50,000; and Jack coho only about 3,000 individuals.\nCoho salmon population levels were relatively low between 2001-2008 followed by a significant jump in 2009 followed by a slight decline in 2010.\nJack coho populations experienced extreme fluctuations between 2001-2008. Whereas, steelhead populations appear relatively consistent if not slightly declining between 2001-2010.\n\n\n\nCode\nfish_totals &lt;- fish_ts %&gt;%\n  separate(date, c('year', 'month', 'day')) %&gt;%\n  group_by(year) %&gt;%\n  summarise(Coho = sum(coho), \n            Jack_Coho = sum(jack_coho), \n            Steelhead = sum(steelhead)) %&gt;%\n  pivot_longer(\"Coho\":\"Steelhead\", \n               names_to = \"species\", \n               values_to = \"total\")\n\nfish_total_plot &lt;- ggplot(data = fish_totals, \n       aes(x = year, \n           y = total, \n           fill = species)) + \n  geom_col() + \n  facet_wrap(~species, ncol=1, scales = \"free\") + \n  labs(x = \"Year\", \n       y = \"Total Fish at Fish Ladder\", \n       fill = \"Fish Species\", \n       caption = \"The figures above show the annual totals for fish passage at the Willamette fish lader from 2001-2010. \nThe top graph (red) represents coho salmon, the center graph (green) represents jack coho salmon, and the \nbottom graph (blue) represents steelhead. The x axis shows time in years, and the y axes represent number \nof individuals for each species. Note the different y-axes scales for the different species;  Coho population \nis shown in intervals of 2500, Jack Coho in intervals of 500, and Steelhead 5000\") + \n  theme(plot.caption = element_text(hjust = 0.5))\n\nplot(fish_total_plot)"
  },
  {
    "objectID": "posts/willamette_falls/index.html#optional-forecast-salmon-runs-with-holt-winters",
    "href": "posts/willamette_falls/index.html#optional-forecast-salmon-runs-with-holt-winters",
    "title": "Willamette Falls Fish Passage",
    "section": "6 Optional: Forecast Salmon runs with Holt-Winters",
    "text": "6 Optional: Forecast Salmon runs with Holt-Winters\n\n\nCode\n# create model \n\ncoho_month_df &lt;- fish_df %&gt;%\n  separate(date, c('year', 'month', 'day')) %&gt;%\n  mutate(yearmonth = paste(year, month, sep = \"-\"), \n         date = yearmonth(yearmonth)) %&gt;%\n  select(date, coho) %&gt;%\n  group_by(date) %&gt;%\n  summarise(count = sum(coho))\n\ncoho_month_ts &lt;- coho_month_df %&gt;%\n  as_tsibble(key = NULL, \n             index = date) \n\ncoho_fit &lt;- coho_month_ts %&gt;%\n  model(ets = ETS(count ~ season(method = \"A\") + trend(method = \"A\")))\n\ncoho_forecast &lt;- coho_fit %&gt;%\n  forecast(h = \"15 years\") \n\ncoho_forecast %&gt;%\n  autoplot(coho_month_ts)"
  },
  {
    "objectID": "posts/palmetto/index.html",
    "href": "posts/palmetto/index.html",
    "title": "Binary Logistic Regression Models for Predicting Palmetto Species",
    "section": "",
    "text": "The dataset analyzed below contains information about two species of palmetto: saw palmetto (Serenoa repens) and scrub palmetto (Sabal etonia). Two binary logistic regression models were developed to predict the palmetto species based on a set of morphological features and compared. Model 1 predicts the species of an individual based on its plant height, canopy length, canopy width, and number of green leaves; whereas Model 2 predicts the species only based on plant height, canopy width and number of green leaves.\nPseudocode:\n\nLoad libraries and data, identify factor levels in metadata\nVisualize relationship between species and its predicting variable in exploratory ggplots\nCreate binary logistic regression models using both formulas\n20-fold cross validation on model 1, repeat 10 times\n20-fold cross validation on model 2, repeat 10 times\nCompare models using AIC, accuracy, ROC curve and AUC\nCreate table of best fitting model coefficients using kable\nCreate table of best fitting predictive performance for the entire dataset\n\nModel 1 slightly outperforms Model 2, correctly predicting 90.75% of Serenoa repens and 92.61% of Sabal etonia. This suggests that the plant’s canopy length (included in Model 1, but omitted in Model 2) is an essential predictive variable for differentiating between the two palmetto species."
  },
  {
    "objectID": "posts/palmetto/index.html#cross-validation-for-model-1",
    "href": "posts/palmetto/index.html#cross-validation-for-model-1",
    "title": "Binary Logistic Regression Models for Predicting Palmetto Species",
    "section": "6.1 Cross Validation for Model 1",
    "text": "6.1 Cross Validation for Model 1\nModel 1 was evaluated as a predictor for palmetto species using 20-fold cross validation repeated ten times, resulting in an accuracy = 91.7% and AUC = 97.3%.\n\n\nCode\nset.seed(99)\np_folds &lt;- vfold_cv(palmetto_df, v = 20, repeats = 10)\np_folds\n\n\n#  20-fold cross-validation repeated 10 times \n# A tibble: 200 × 3\n   splits              id       id2   \n   &lt;list&gt;              &lt;chr&gt;    &lt;chr&gt; \n 1 &lt;split [11837/623]&gt; Repeat01 Fold01\n 2 &lt;split [11837/623]&gt; Repeat01 Fold02\n 3 &lt;split [11837/623]&gt; Repeat01 Fold03\n 4 &lt;split [11837/623]&gt; Repeat01 Fold04\n 5 &lt;split [11837/623]&gt; Repeat01 Fold05\n 6 &lt;split [11837/623]&gt; Repeat01 Fold06\n 7 &lt;split [11837/623]&gt; Repeat01 Fold07\n 8 &lt;split [11837/623]&gt; Repeat01 Fold08\n 9 &lt;split [11837/623]&gt; Repeat01 Fold09\n10 &lt;split [11837/623]&gt; Repeat01 Fold10\n# ℹ 190 more rows\n\n\nCode\nblr_wf &lt;- workflow() %&gt;%\n  add_model(blr_mdl) %&gt;%\n  add_formula(f1)\n\nblr_fit_folds &lt;- blr_wf %&gt;%\n  fit_resamples(p_folds)\n\n\ncollect_metrics(blr_fit_folds)\n\n\n# A tibble: 3 × 6\n  .metric     .estimator   mean     n  std_err .config             \n  &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy    binary     0.917    200 0.000707 Preprocessor1_Model1\n2 brier_class binary     0.0629   200 0.000436 Preprocessor1_Model1\n3 roc_auc     binary     0.973    200 0.000361 Preprocessor1_Model1"
  },
  {
    "objectID": "posts/palmetto/index.html#cross-validation-for-model-2",
    "href": "posts/palmetto/index.html#cross-validation-for-model-2",
    "title": "Binary Logistic Regression Models for Predicting Palmetto Species",
    "section": "6.2 Cross Validation for Model 2",
    "text": "6.2 Cross Validation for Model 2\nModel 2 was also evaluated as a predictor for palmetto species using 20-fold cross validation repeated ten times, resulting in an accuracy = 89.8% and AUC = 96.3%.\n\n\nCode\nset.seed(99)\np_folds &lt;- vfold_cv(palmetto_df, v = 20, repeats = 10)\np_folds\n\n\n#  20-fold cross-validation repeated 10 times \n# A tibble: 200 × 3\n   splits              id       id2   \n   &lt;list&gt;              &lt;chr&gt;    &lt;chr&gt; \n 1 &lt;split [11837/623]&gt; Repeat01 Fold01\n 2 &lt;split [11837/623]&gt; Repeat01 Fold02\n 3 &lt;split [11837/623]&gt; Repeat01 Fold03\n 4 &lt;split [11837/623]&gt; Repeat01 Fold04\n 5 &lt;split [11837/623]&gt; Repeat01 Fold05\n 6 &lt;split [11837/623]&gt; Repeat01 Fold06\n 7 &lt;split [11837/623]&gt; Repeat01 Fold07\n 8 &lt;split [11837/623]&gt; Repeat01 Fold08\n 9 &lt;split [11837/623]&gt; Repeat01 Fold09\n10 &lt;split [11837/623]&gt; Repeat01 Fold10\n# ℹ 190 more rows\n\n\nCode\nblr_wf &lt;- workflow() %&gt;%\n  add_model(blr_mdl) %&gt;%\n  add_formula(f2)\n\nblr_fit_folds &lt;- blr_wf %&gt;%\n  fit_resamples(p_folds)\n\n\ncollect_metrics(blr_fit_folds)\n\n\n# A tibble: 3 × 6\n  .metric     .estimator   mean     n  std_err .config             \n  &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy    binary     0.899    200 0.000821 Preprocessor1_Model1\n2 brier_class binary     0.0735   200 0.000463 Preprocessor1_Model1\n3 roc_auc     binary     0.964    200 0.000425 Preprocessor1_Model1"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Natalie Mayer",
    "section": "",
    "text": "Hi and welcome to my website! I’m Natalie, a Master’s student at the Bren School of Environmental Science and Management specializing in Water Resources Management. Profesionally, I am interested in analyzing water supply and quality data using Excel, RStudio, or ArcGIS! Outside of work, I enjoy hiking and going to the beach with my Australian Shepherd, Polly. Please explore this website to checkout some of my work!"
  },
  {
    "objectID": "index.html#welcome",
    "href": "index.html#welcome",
    "title": "Natalie Mayer",
    "section": "",
    "text": "Hi and welcome to my website! I’m Natalie, a Master’s student at the Bren School of Environmental Science and Management specializing in Water Resources Management. Profesionally, I am interested in analyzing water supply and quality data using Excel, RStudio, or ArcGIS! Outside of work, I enjoy hiking and going to the beach with my Australian Shepherd, Polly. Please explore this website to checkout some of my work!"
  },
  {
    "objectID": "index.html#professional-interests",
    "href": "index.html#professional-interests",
    "title": "Natalie Mayer",
    "section": "Professional Interests",
    "text": "Professional Interests\nLocal Water Management | Sustainable Groundwater Management | Water Quality | Ecosystem Services | Nature Based Solutions | Sustainable Agriculture"
  },
  {
    "objectID": "index.html#recent-ongoing-projects",
    "href": "index.html#recent-ongoing-projects",
    "title": "Natalie Mayer",
    "section": "Recent & Ongoing Projects",
    "text": "Recent & Ongoing Projects\nUnderstanding and Mitigating Seaweed Forest Losses Caused by Environmental Change in New Zealand/Aotearoa\nSouthern California Groundwater Shiny App\nCahokia-Joaquim Watershed Management Plan\nLand Use and Ownership in Critically Overdrafted Groundwater Basins in California"
  }
]